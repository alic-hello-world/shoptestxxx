document.addEventListener('DOMContentLoaded',function(){const mobileNavToggle=document.getElementById('mobileNavToggle');const mobileMenu=document.getElementById('mobileMenu');const closeMenu=document.getElementById('closeMenu');const overlay=document.getElementById('overlay');mobileNavToggle.addEventListener('click',function(){mobileMenu.classList.add('active');overlay.classList.add('active');document.body.style.overflow='hidden'});closeMenu.addEventListener('click',function(){mobileMenu.classList.remove('active');overlay.classList.remove('active');document.body.style.overflow=''});overlay.addEventListener('click',function(){mobileMenu.classList.remove('active');overlay.classList.remove('active');document.body.style.overflow=''});const searchBtn=document.getElementById('searchBtn');const cartIcon=document.getElementById('cartIcon');const writeReviewBtn=document.getElementById('writeReview');const modals=document.querySelectorAll('.modal');const closeButtons=document.querySelectorAll('.close');searchBtn.addEventListener('click',function(){const searchModal=document.getElementById('searchModal');searchModal.classList.add('show');document.body.style.overflow='hidden'});cartIcon.addEventListener('click',function(){const cartModal=document.getElementById('cartModal');cartModal.classList.add('show');document.body.style.overflow='hidden'});writeReviewBtn.addEventListener('click',function(){const reviewModal=document.getElementById('reviewModal');reviewModal.classList.add('show');document.body.style.overflow='hidden'});closeButtons.forEach(button=>{button.addEventListener('click',function(){modals.forEach(modal=>{modal.classList.remove('show')});document.body.style.overflow=''})});window.addEventListener('click',function(event){modals.forEach(modal=>{if(event.target===modal){modal.classList.remove('show');document.body.style.overflow=''}})});const minusBtn=document.querySelector('.quantity-btn.minus');const plusBtn=document.querySelector('.quantity-btn.plus');const quantityInput=document.getElementById('quantity');minusBtn.addEventListener('click',function(){let value=parseInt(quantityInput.value);if(value>1){quantityInput.value=value-1}});plusBtn.addEventListener('click',function(){let value=parseInt(quantityInput.value);quantityInput.value=value+1});const colorOptions=document.querySelectorAll('.color-option');colorOptions.forEach(option=>{option.addEventListener('click',function(){colorOptions.forEach(opt=>opt.classList.remove('active'));this.classList.add('active')})});const thumbnails=document.querySelectorAll('.thumbnail');const mainImage=document.getElementById('mainImage');thumbnails.forEach(thumb=>{thumb.addEventListener('click',function(){thumbnails.forEach(t=>t.classList.remove('active'));this.classList.add('active');const imageUrl=this.getAttribute('data-image');if(imageUrl){mainImage.style.opacity='0';setTimeout(()=>{mainImage.src=imageUrl;mainImage.style.opacity='1'},300)}})});const addToCartBtn=document.getElementById('addToCart');const cartCount=document.querySelector('.cart-count');const cartTotal=document.getElementById('cartTotal');const cartItems=document.querySelector('.cart-items');addToCartBtn.addEventListener('click',function(){const productName=document.querySelector('.product-info h1').textContent;const productPrice=document.querySelector('.price').textContent;const quantity=parseInt(quantityInput.value);const selectedColor=document.querySelector('.color-option.active').getAttribute('data-color');let currentCount=parseInt(cartCount.textContent);cartCount.textContent=currentCount+quantity;cartCount.style.display='flex';const priceValue=parseFloat(productPrice.replace('฿',''));const totalPrice=priceValue*quantity;const currentTotal=parseFloat(cartTotal.textContent);cartTotal.textContent=(currentTotal+totalPrice).toFixed(2);const emptyCartMsg=document.querySelector('.empty-cart-message');if(emptyCartMsg){emptyCartMsg.remove()}const cartItem=document.createElement('div');cartItem.classList.add('cart-item');cartItem.innerHTML=`<div class="cart-item-details"><h4>${productName}</h4><p>Color:${selectedColor}|Quantity:${quantity}</p><p>Unit price:${productPrice}|Subtotal:฿${totalPrice.toFixed(2)}</p></div>`;cartItems.appendChild(cartItem);alert(`Added ${quantity}Items added to cart`)});const ratingStars=document.querySelectorAll('.rating-input i');ratingStars.forEach(star=>{star.addEventListener('click',function(){const rating=parseInt(this.getAttribute('data-rating'));ratingStars.forEach((s,index)=>{if(index<rating){s.classList.remove('far');s.classList.add('fas')}else{s.classList.remove('fas');s.classList.add('far')}})});star.addEventListener('mouseover',function(){const rating=parseInt(this.getAttribute('data-rating'));ratingStars.forEach((s,index)=>{if(index<rating){s.classList.add('hover')}})});star.addEventListener('mouseout',function(){ratingStars.forEach(s=>{s.classList.remove('hover')})})});const reviewForm=document.querySelector('.review-form');reviewForm.addEventListener('submit',function(e){e.preventDefault();const reviewTitle=document.getElementById('reviewTitle').value;const reviewContent=document.getElementById('reviewContent').value;let rating=0;ratingStars.forEach(star=>{if(star.classList.contains('fas')){rating++}});if(rating===0){alert('Please select a rating');return}if(!reviewTitle||!reviewContent){alert('Please fill in the comment title and content');return}alert('Thanks for your comment!');document.getElementById('reviewModal').classList.remove('show');document.body.style.overflow='';reviewForm.reset();ratingStars.forEach(star=>{star.classList.remove('fas');star.classList.add('far')})});setTimeout(()=>{document.body.classList.add('loaded')},500)});
